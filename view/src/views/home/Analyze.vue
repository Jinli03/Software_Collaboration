<template>
  <div>
    <el-container class="background-image-container">
      <div style="backdrop-filter: blur(8px); width: 95%; height: 95%">
        <el-col :span="6">
          <div>
            <el-row style="display:flex; justify-content: center; width: 80%; margin-left: 20px; margin-top: 10px; border-radius: 20px">
              <img :src="user.title || 'https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png'" alt="" style=" width: 50px; height: 50px; border-radius: 50%; margin: 10px">
              <p style="color: #000c17; margin-top: 15px">"é™æ°´æµæ·±<br>æ²§ç¬™è¸æ­Œ"</p>
            </el-row>
            <el-row>
              <el-card style="justify-content: center; width: 80%; margin-left: 20px; border-radius: 20px">
                <div>
                  <el-statistic
                      group-separator=","
                      :value="value1"
                      :title="title1"
                  >
                    <template slot="prefix">
                      <i class="el-icon-user"></i>
                    </template>
                  </el-statistic>
                </div>
              </el-card>

            </el-row>
            <el-row>
              <el-card style="justify-content: center; width: 80%; margin-left: 20px; margin-top: 10px; border-radius: 20px">
                <div>
                  <el-statistic
                      group-separator=","
                      :value="value2"
                      :title="title2"
                  >
                    <template slot="prefix">
                      <i class="el-icon-house"></i>
                    </template>
                  </el-statistic>
                </div>
              </el-card>
            </el-row>
            <el-row>
              <el-card style="justify-content: center; width: 80%; margin-left: 20px; margin-top: 10px; border-radius: 20px">
                <div>
                  <el-statistic
                      group-separator=","
                      :value="value3"
                      :title="title3"
                  >
                    <template slot="prefix">
                      <i class="el-icon-search"></i>
                    </template>
                  </el-statistic>
                </div>
              </el-card>
            </el-row>
            <el-row>
              <el-card style="justify-content: center; width: 80%; margin-left: 20px; margin-top: 10px; border-radius: 20px">
                <div style="width: 100%; display: inline-block;">
                  <el-statistic
                      format="DDå¤©"
                      :value="deadline"
                      time-indices
                      title="ğŸš©è·ç¦»è€ƒç ”è¿˜æœ‰ï¼š"
                  >
                    <template slot="prefix">
                      <i class="el-icon-sunrise"></i>
                    </template>
                  </el-statistic>
                </div>
              </el-card>
            </el-row>
          </div>
        </el-col>
        <el-col :span="12">
          <div style="backdrop-filter: blur(8px); width: 90%; height: 100%">
            <div style="margin-left: 100px">
              <template>
                <el-carousel :interval="3000" type="card" height="180px">
                  <el-carousel-item v-for="item in 6" :key="item">
                  </el-carousel-item>
                </el-carousel>
              </template>
            </div>
            <div>
              <img src="../../assets/icon/school.png" alt="First Image" class="image1" style="width: 100px; height: 100px; position: absolute; top: 300px; left: 550px;" @click="$router.push('search')">
              <p style="position: absolute; top: 300px; left: 580px; font-size: 20px">å­¦æ ¡</p>
            </div>
            <div>
              <img src="@/assets/icon/major.png" alt="Second Image" class="image2" style="width: 100px; height: 100px; position: absolute; top: 300px; left: 650px" @click="$router.push('personal')">
              <p style="position: absolute; top: 300px; left: 680px; font-size: 20px">ä¸“ä¸š</p>
            </div>
          </div>
        </el-col>

        <el-col :span="6">
          <div class="vertical-text">
            <p ref="welcomeText" style="font-size: 42px; color: #8c939d">{{ displayedMessage }}</p>
          </div>
        </el-col>
      </div>
    </el-container>
  </div>

</template>

<script>
export default {
  name: "HomePage",
  data() {
    return {
      user: JSON.parse(localStorage.getItem('pilot') || '{}'),
      welcomeMessage: "æ¬¢è¿æ¥åˆ°è€ƒç ”åˆ†æå±€",
      displayedMessage: "",
      deadline: new Date("2024-12-25"),
      title1: "å·²æ³¨å†Œç”¨æˆ·",
      title2: "å·²ä¸Šä¼ é™¢æ ¡æ•°é‡",
      title3: "ç½‘é¡µè®¿é—®é‡",
      value1: 4154.564,
      value2: 1314,
      value3: 1314,
    };
  },
  mounted() {
    this.displayWelcomeMessage();
  },
  methods: {
    displayWelcomeMessage() {
      let index = 0;
      const intervalId = setInterval(() => {
        this.displayedMessage += this.welcomeMessage[index];
        index++;
        if (index === this.welcomeMessage.length) {
          clearInterval(intervalId);
        }
      }, 100); // é€å­—æ˜¾ç¤ºçš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºæ¯«ç§’
    }
  }
};
</script>

<style scoped>
.background-image-container {
  background-image: url('@/assets/background/desktop.png');
  background-size: cover; /* å°†èƒŒæ™¯å›¾ç‰‡é“ºæ»¡æ•´ä¸ªå®¹å™¨ */
  background-position: center; /* å›¾ç‰‡å±…ä¸­æ˜¾ç¤º */
  height: 84vh; /* è°ƒæ•´å®¹å™¨çš„é«˜åº¦ï¼Œæ ¹æ®éœ€è¦æ›´æ”¹ */
  background-size: 75%; /* ç¼©å°èƒŒæ™¯å›¾ç‰‡ */
  display: flex;
  justify-content: center;
  align-items: center;
  color: white; /* æ–‡å­—é¢œè‰² */
}

/* é’ˆå¯¹å†…å®¹çš„é¢å¤–æ ·å¼ */
.background-image-container > div {
  text-align: center;
}

.background-image-container h1 {
  font-size: 2em;
  margin-bottom: 10px;
}

.background-image-container p {
  font-size: 1.2em;
}

.image1:hover {
  transform: scale(1.1); /* æ”¾å¤§1.1å€ */
}

.image2:hover {
  transform: scale(1.1); /* æ”¾å¤§1.1å€ */
}

.vertical-text {
  writing-mode: vertical-rl; /* ç«–ç›´æ˜¾ç¤ºæ–‡æœ¬ï¼Œä»å³åˆ°å·¦ */
  position: absolute;
  top: 20%;
  right: 80px; /* è°ƒæ•´æ–‡æœ¬è·ç¦»å³ä¾§çš„ä½ç½® */
}
.el-carousel__item h3 {
  color: #475669;
  font-size: 14px;
  opacity: 0.75;
  line-height: 200px;
  margin: 0;
}

.el-carousel__item:nth-child(6n) {
  background-image: url('@/assets/pic/thu.png');
  background-size: cover; /* ä»¥å¡«å……æ•´ä¸ªå…ƒç´ ä¸ºç›®æ ‡ */
  background-repeat: no-repeat; /* ä¸é‡å¤å¹³é“ºèƒŒæ™¯å›¾ */
  background-position: center; /* å›¾ç‰‡å±…ä¸­æ˜¾ç¤º */
}

.el-carousel__item:nth-child(6n+1) {
  background-image: url('@/assets/pic/pku.png');
  background-size: cover; /* ä»¥å¡«å……æ•´ä¸ªå…ƒç´ ä¸ºç›®æ ‡ */
  background-repeat: no-repeat; /* ä¸é‡å¤å¹³é“ºèƒŒæ™¯å›¾ */
  background-position: center; /* å›¾ç‰‡å±…ä¸­æ˜¾ç¤º */
}
.el-carousel__item:nth-child(6n+2) {
  background-image: url('@/assets/pic/sjtu.png');
  background-size: cover; /* ä»¥å¡«å……æ•´ä¸ªå…ƒç´ ä¸ºç›®æ ‡ */
  background-repeat: no-repeat; /* ä¸é‡å¤å¹³é“ºèƒŒæ™¯å›¾ */
  background-position: center; /* å›¾ç‰‡å±…ä¸­æ˜¾ç¤º */
}
.el-carousel__item:nth-child(6n+3) {
  background-image: url('@/assets/pic/fdu.png');
  background-size: cover; /* ä»¥å¡«å……æ•´ä¸ªå…ƒç´ ä¸ºç›®æ ‡ */
  background-repeat: no-repeat; /* ä¸é‡å¤å¹³é“ºèƒŒæ™¯å›¾ */
  background-position: center; /* å›¾ç‰‡å±…ä¸­æ˜¾ç¤º */
}
.el-carousel__item:nth-child(6n+4) {
  background-image: url('@/assets/pic/ustc.png');
  background-size: cover; /* ä»¥å¡«å……æ•´ä¸ªå…ƒç´ ä¸ºç›®æ ‡ */
  background-repeat: no-repeat; /* ä¸é‡å¤å¹³é“ºèƒŒæ™¯å›¾ */
  background-position: center; /* å›¾ç‰‡å±…ä¸­æ˜¾ç¤º */
}
.el-carousel__item:nth-child(6n+5) {
  background-image: url('@/assets/pic/xdu.png');
  background-size: cover; /* ä»¥å¡«å……æ•´ä¸ªå…ƒç´ ä¸ºç›®æ ‡ */
  background-repeat: no-repeat; /* ä¸é‡å¤å¹³é“ºèƒŒæ™¯å›¾ */
  background-position: center; /* å›¾ç‰‡å±…ä¸­æ˜¾ç¤º */
}
</style>
